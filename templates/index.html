<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive ReLU Neural Network</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/papaparse/5.3.0/papaparse.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #upload-container { margin: 20px; }
        #config-container { margin: 20px; }
        canvas { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>Interactive ReLU Neural Network</h1>
    <div id="upload-container">
        <input type="file" id="file-input" accept=".csv">
        <p>Select X and Y:</p>
        <div id="feature-selection"></div>
    </div>
    <div id="config-container">
        <label>Number of Hidden Layers:</label>
        <input type="number" id="num-layers" min="1" max="5" value="2">
        <label>Nodes per Layer:</label>
        <input type="number" id="nodes-per-layer" min="1" max="10" value="3">
        <button onclick="trainNetwork()">Train Network</button>
    </div>
    <div id="plot-container">
        <h2>Original Data</h2>
        <div id="plot-original"></div>
        <h2>3D Visualizations of Each Layer</h2>
        <div id="plot-hidden-layers"></div>
        <h2>Final Decision Boundary</h2>
        <div id="plot-final"></div>
    </div>
    <script>
        let dataset = null;
        document.getElementById("file-input").addEventListener("change", function(event) {
            const file = event.target.files[0];
            if (file) {
                Papa.parse(file, {
                    complete: function(results) {
                        dataset = results.data;
                        generateFeatureSelection(dataset[0]);
                    },
                    header: true
                });
            }
        });

        function generateFeatureSelection(headers) {
            const container = document.getElementById("feature-selection");
            container.innerHTML = "";
            headers.forEach(header => {
                const checkbox = document.createElement("input");
                checkbox.type = "checkbox";
                checkbox.value = header;
                checkbox.id = header;
                container.appendChild(checkbox);
                container.appendChild(document.createTextNode(header));
                container.appendChild(document.createElement("br"));
            });
        }

        function trainNetwork() {
            alert("Training network with ReLU... Backend processing required.");
            // Placeholder for backend computation and visualization update.
        }
    </script>
</body>
</html>